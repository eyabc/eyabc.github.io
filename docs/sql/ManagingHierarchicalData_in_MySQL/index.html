<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Respect myself Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Respect myself Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Respect myself" href="/opensearch.xml"><title data-react-helmet="true">ManagingHierarchicalData_in_MySQL | Respect myself</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="ManagingHierarchicalData_in_MySQL | Respect myself"><meta data-react-helmet="true" name="description" content="Managing Hierarchical Data in MySQL"><meta data-react-helmet="true" property="og:description" content="Managing Hierarchical Data in MySQL"><meta data-react-helmet="true" property="og:url" content="https://eyabc.github.io/docs/sql/ManagingHierarchicalData_in_MySQL"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://YGAFWBIY5W-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://eyabc.github.io/docs/sql/ManagingHierarchicalData_in_MySQL"><link rel="stylesheet" href="/styles.3ada4974.css">
<link rel="preload" href="/styles.04929a90.js" as="script">
<link rel="preload" href="/runtime~main.b88db289.js" as="script">
<link rel="preload" href="/main.d9796370.js" as="script">
<link rel="preload" href="/1.339dbb70.js" as="script">
<link rel="preload" href="/3.b0ed920a.js" as="script">
<link rel="preload" href="/1be78505.7f89a872.js" as="script">
<link rel="preload" href="/345.76b2e3cb.js" as="script">
<link rel="preload" href="/935f2afb.0bba548e.js" as="script">
<link rel="preload" href="/342.9d9ac2d7.js" as="script">
<link rel="preload" href="/17896441.2f8597a2.js" as="script">
<link rel="preload" href="/b0328a18.f5b0d317.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Respect myself" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="Respect myself" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">나를 존중하는 시간</strong></a><a class="navbar__item navbar__link" target="_self" href="/docs/javascript/javascript/index">JavaScript</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" target="_self">Java</a><ul class="dropdown__menu"><li><a class="dropdown__link" type="doc" docid="effective-java" target="_self" href="/docs/java/effective-java">Effective Java</a></li><li><a class="dropdown__link" type="doc" docid="java-spring" target="_self" href="/docs/java/spring/index">Spring</a></li><li><a class="dropdown__link" type="doc" docid="java-etc" target="_self" href="/docs/java/etc/index">etc</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" target="_self">Study</a><ul class="dropdown__menu"><li><a class="dropdown__link" type="doc" docid="dku-javascript" target="_self" href="/docs/study/dku-javascript">DKU JavaScript</a></li></ul></div><a class="navbar__item navbar__link" target="_self" href="/docs/css/index">CSS</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" target="_self" href="/docs/dev-etc/index">Dev etc</a><ul class="dropdown__menu"><li><a class="dropdown__link" type="doc" docid="HTML" target="_self" href="/docs/html/index">HTML</a></li><li><a class="dropdown__link" type="doc" docid="network" target="_self" href="/docs/network/HTTP_headers_Referer_보안이슈">Network</a></li><li><a class="dropdown__link" type="doc" docid="network" target="_self" href="/docs/sql/index">SQL</a></li><li><a class="dropdown__link" type="doc" docid="os" target="_self" href="/docs/os/index">OS</a></li></ul></div><a class="navbar__item navbar__link" target="_self" href="/docs/etc/프로그래밍_어떻게_공부할_것인가">etc</a><a class="navbar__item navbar__link" target="_self" href="/docs/doing/index">doing</a><a class="navbar__item navbar__link" target="_self" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/eyabc/eyabc.github.io" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Respect myself" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="Respect myself" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">나를 존중하는 시간</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" target="_self" href="/docs/javascript/javascript/index">JavaScript</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist" target="_self">Java</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" type="doc" docid="effective-java" target="_self" href="/docs/java/effective-java">Effective Java</a></li><li class="menu__list-item"><a class="menu__link" type="doc" docid="java-spring" target="_self" href="/docs/java/spring/index">Spring</a></li><li class="menu__list-item"><a class="menu__link" type="doc" docid="java-etc" target="_self" href="/docs/java/etc/index">etc</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist" target="_self">Study</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" type="doc" docid="dku-javascript" target="_self" href="/docs/study/dku-javascript">DKU JavaScript</a></li></ul></li><li class="menu__list-item"><a class="menu__link" target="_self" href="/docs/css/index">CSS</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" role="button" target="_self" href="/docs/dev-etc/index">Dev etc</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" type="doc" docid="HTML" target="_self" href="/docs/html/index">HTML</a></li><li class="menu__list-item"><a class="menu__link" type="doc" docid="network" target="_self" href="/docs/network/HTTP_headers_Referer_보안이슈">Network</a></li><li class="menu__list-item"><a class="menu__link" type="doc" docid="network" target="_self" href="/docs/sql/index">SQL</a></li><li class="menu__list-item"><a class="menu__link" type="doc" docid="os" target="_self" href="/docs/os/index">OS</a></li></ul></li><li class="menu__list-item"><a class="menu__link" target="_self" href="/docs/etc/프로그래밍_어떻게_공부할_것인가">etc</a></li><li class="menu__list-item"><a class="menu__link" target="_self" href="/docs/doing/index">doing</a></li><li class="menu__list-item"><a class="menu__link" target="_self" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/eyabc/eyabc.github.io" target="_self" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/sql/index">index</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/docs/sql/ManagingHierarchicalData_in_MySQL">ManagingHierarchicalData_in_MySQL</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/sql/SQL_Cheat_Sheet">SQL_Cheat_Sheet</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">오라클 전문가로 가는 지름길</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sql/오라클_전문가로_가는_지름길/1-자료의조회">1. 자료의 조회</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sql/오라클_전문가로_가는_지름길/2-함수">2. 함수</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sql/오라클_전문가로_가는_지름길/3-사례_이해를_위한_기본사항">3. 사례 이해를 위한 기본사항</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sql/오라클_전문가로_가는_지름길/4-사례_이해를_위한_필수사항">4. 사례 이해를 위한 필수사항</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_2AGf"><div class="docItemContainer_1tAC"><article><header><h1 class="docTitle_cWlf">ManagingHierarchicalData_in_MySQL</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="managing-hierarchical-data-in-mysql"></a><a href="http://mikehillyer.com/articles/managing-hierarchical-data-in-mysql/" target="_blank" rel="noopener noreferrer">Managing Hierarchical Data in MySQL</a><a class="hash-link" href="#managing-hierarchical-data-in-mysql" title="Direct link to heading">#</a></h1><p>계층적 데이터 관리는 관계형데이터베이스의 목적이 아니다.
전통적인 인접 목록 모델에서 시작하여 MySql에서 계층적 데이터를 다루기 위한 두가지 모델을 소개한다. </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="adjacency-list-model-인접-목록-모델"></a>ADJACENCY LIST MODEL 인접 목록 모델<a class="hash-link" href="#adjacency-list-model-인접-목록-모델" title="Direct link to heading">#</a></h2><p><img alt="ADJACENCY LIST MODEL" src="data:image/png;base64,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"></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">CREATE TABLE category </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain"> </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        category_id INT AUTO_INCREMENT 기본 키, </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        이름 VARCHAR </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">20</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> NOT NULL, </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        부모 INT DEFAULT NULL </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"> </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">범주 값에 삽입 </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">1</span><span class="token plain">, </span><span class="token string">&#x27;ELECTRONICS&#x27;</span><span class="token plain">, NULL</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">2</span><span class="token plain">, </span><span class="token string">&#x27;TELEVISIONS&#x27;</span><span class="token plain">, </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">3</span><span class="token plain">, </span><span class="token string">&#x27;TUBE&#x27;</span><span class="token plain">, </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">, </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">4</span><span class="token plain">, </span><span class="token string">&#x27;LCD&#x27;</span><span class="token plain">, </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">5</span><span class="token plain">, </span><span class="token string">&#x27;PLASMA&#x27;</span><span class="token plain"> , </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">6</span><span class="token plain">, </span><span class="token string">&#x27;휴대용 전자 제품&#x27;</span><span class="token plain">, </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">7</span><span class="token plain">, </span><span class="token string">&#x27;MP3 플레이어&#x27;</span><span class="token plain">, </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">8</span><span class="token plain">, </span><span class="token string">&#x27;플래시&#x27;</span><span class="token plain">, </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">, </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">9</span><span class="token plain">, </span><span class="token string">&#x27;CD 플레이어&#x27;</span><span class="token plain">, </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">10</span><span class="token plain">, </span><span class="token string">&#x27;2 웨이 라디오&#x27;</span><span class="token plain">, </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"> </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT * FROM 카테고리 ORDER BY category_id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"> </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+ ------------- + ---------------------- + -------- + </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> category_id </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> 이름 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> 부모 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+ ------------- + ---------------------- + -------- + </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> 전자 제품 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> NULL </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> 텔레비전 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">3</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> 관 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">4</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> LCD </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> 플라즈마 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">6</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> 휴대용 전자 제품 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">7</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> MP3 플레이어 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">6</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">8</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> 플래시 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">7</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">9</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> CD 플레이어 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">6</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> 웨이 라디오 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">6</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+ ------------- + ---------------------- + -------- + </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token number">10</span><span class="token plain"> 행 세트 </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">0.00</span><span class="token plain"> 초</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li>각 항목에는 상위 항목에 대한 포인터가 존재한다. 최상위 요소일 경우 상위요소에 대해 NULL 이다.</li><li>매우 간단</li><li>클라이언트측 코드에서는 상당히 쉽게 처리할 수 있지만 순수 SQL에서는 모델 작업이 문제가 될 수 있다.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="전체-트리-검색"></a>전체 트리 검색<a class="hash-link" href="#전체-트리-검색" title="Direct link to heading">#</a></h3><p>계층적 데이터를 처리할 때,
전체 트리 표시를 가장 먼저 한다. </p><ul><li>순수 SQL에서 자체 조인을 사용하는것이 가장 일반적이다.</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT t1.name AS lev1, t2.name as lev2, t3.name as lev3, t4.name as lev4</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">FROM category AS t1</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">LEFT JOIN category AS t2 ON t2.parent </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> t1.category_id</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">LEFT JOIN category AS t3 ON t3.parent </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> t2.category_id</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">LEFT JOIN category AS t4 ON t4.parent </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> t3.category_id</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WHERE t1.name </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token string">&#x27;ELECTRONICS&#x27;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+-------------+----------------------+--------------+-------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> lev1        </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> lev2                 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> lev3         </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> lev4  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+-------------+----------------------+--------------+-------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> TELEVISIONS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> TUBE         </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> NULL  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> TELEVISIONS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> LCD          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> NULL  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> TELEVISIONS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PLASMA       </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> NULL  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PORTABLE ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> MP3 PLAYERS  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> FLASH </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PORTABLE ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> CD PLAYERS   </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> NULL  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PORTABLE ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> WAY RADIOS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> NULL  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+-------------+----------------------+--------------+-------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token number">6</span><span class="token plain"> rows </span><span class="token keyword" style="color:#e3116c">in</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(227, 98, 9)">set</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">0.00</span><span class="token plain"> sec</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="모든-리프-노트-찾기"></a>모든 리프 노트 찾기<a class="hash-link" href="#모든-리프-노트-찾기" title="Direct link to heading">#</a></h3><ul><li>left join 을 사용하여 트리에서 하위노드가 없는 모든 리프 노드를 찾을 수 있다.</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT t1.name FROM</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">category AS t1 LEFT JOIN category as t2</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">ON t1.category_id </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> t2.parent</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WHERE t2.category_id IS NULL</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+--------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> name         </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+--------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> TUBE         </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> LCD          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PLASMA       </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> FLASH        </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> CD PLAYERS   </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> WAY RADIOS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+--------------+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="단일-경로-검색"></a>단일 경로 검색<a class="hash-link" href="#단일-경로-검색" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   SELECT t1.name AS lev1, t2.name as lev2, t3.name as lev3, t4.name as lev4</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   FROM category AS t1</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   LEFT JOIN category AS t2 ON t2.parent </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> t1.category_id</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   LEFT JOIN category AS t3 ON t3.parent </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> t2.category_id</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   LEFT JOIN category AS t4 ON t4.parent </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> t3.category_id</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   WHERE t1.name </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token string">&#x27;ELECTRONICS&#x27;</span><span class="token plain"> AND t4.name </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token string">&#x27;FLASH&#x27;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   </span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   +-------------+----------------------+-------------+-------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> lev1        </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> lev2                 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> lev3        </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> lev4  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   +-------------+----------------------+-------------+-------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PORTABLE ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> MP3 PLAYERS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> FLASH </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   +-------------+----------------------+-------------+-------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">   </span><span class="token number">1</span><span class="token plain"> row </span><span class="token keyword" style="color:#e3116c">in</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(227, 98, 9)">set</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">0.01</span><span class="token plain"> sec</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>모든 수준 하나하나에 저체 조인이 필요하며 결합이 복잡해짐에 따라 성능이 저하된다. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="인접성-목록-모델의-한계"></a>인접성 목록 모델의 한계<a class="hash-link" href="#인접성-목록-모델의-한계" title="Direct link to heading">#</a></h3><ol><li>카테고리의 전체 경로를 보기 전에 카테고리의 레벨을 알아야 한다.</li><li>노드를 삭제할 때 특별한 주의가 필요하다.</li></ol><ul><li>절차적 프로그래밍을 사용하여 트리의 맨 아래에서 시작하여 위쪽으로 반복하여 경로를 반환할 수 있다. </li><li>하나의 하위 요소를 승격시키고 나머지 하위를 새 상위를 가리키도록 재정렬하여 삭제할수 있다. </li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="nested-set-model-중첩-세트-모델"></a>Nested Set Model 중첩 세트 모델<a class="hash-link" href="#nested-set-model-중첩-세트-모델" title="Direct link to heading">#</a></h2><p><img alt="nested_categroies" src="/assets/images/nested_categories-cf9ee9f30132b1f718ee26e9683e5840.png"></p><ul><li>노드와 선이 아 중첩 컨테이너로의 계층 방식 </li><li>노드의 중첩을 나타내는 왼쪽 및 오른쪽 값을 사용하여이 형식의 계층 구조를 테이블에 나타냅니다.</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">CREATE TABLE nested_category </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        category_id INT AUTO_INCREMENT PRIMARY KEY,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        name VARCHAR</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">20</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> NOT NULL,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        lft INT NOT NULL,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        rgt INT NOT NULL</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">INSERT INTO nested_category VALUES</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">1</span><span class="token plain">,</span><span class="token string">&#x27;ELECTRONICS&#x27;</span><span class="token plain">,1,20</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">2</span><span class="token plain">,</span><span class="token string">&#x27;TELEVISIONS&#x27;</span><span class="token plain">,2,9</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">3</span><span class="token plain">,</span><span class="token string">&#x27;TUBE&#x27;</span><span class="token plain">,3,4</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">4</span><span class="token plain">,</span><span class="token string">&#x27;LCD&#x27;</span><span class="token plain">,5,6</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">5</span><span class="token plain">,</span><span class="token string">&#x27;PLASMA&#x27;</span><span class="token plain">,7,8</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">6</span><span class="token plain">,</span><span class="token string">&#x27;PORTABLE ELECTRONICS&#x27;</span><span class="token plain">,10,19</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">7</span><span class="token plain">,</span><span class="token string">&#x27;MP3 PLAYERS&#x27;</span><span class="token plain">,11,14</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">8</span><span class="token plain">,</span><span class="token string">&#x27;FLASH&#x27;</span><span class="token plain">,12,13</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">9</span><span class="token plain">,</span><span class="token string">&#x27;CD PLAYERS&#x27;</span><span class="token plain">,15,16</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">10</span><span class="token plain">,</span><span class="token string">&#x27;2 WAY RADIOS&#x27;</span><span class="token plain">,17,18</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT * FROM nested_category ORDER BY category_id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+-------------+----------------------+-----+-----+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> category_id </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> name                 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> lft </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> rgt </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+-------------+----------------------+-----+-----+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> ELECTRONICS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  </span><span class="token number">20</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> TELEVISIONS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   </span><span class="token number">9</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">3</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> TUBE                 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   </span><span class="token number">3</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   </span><span class="token number">4</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">4</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> LCD                  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   </span><span class="token number">5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   </span><span class="token number">6</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PLASMA               </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   </span><span class="token number">7</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   </span><span class="token number">8</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">6</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PORTABLE ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  </span><span class="token number">10</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  </span><span class="token number">19</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">7</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> MP3 PLAYERS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  </span><span class="token number">11</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  </span><span class="token number">14</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">8</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> FLASH                </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  </span><span class="token number">12</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  </span><span class="token number">13</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">9</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> CD PLAYERS           </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  </span><span class="token number">15</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  </span><span class="token number">16</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">          </span><span class="token number">10</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> WAY RADIOS         </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  </span><span class="token number">17</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  </span><span class="token number">18</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+-------------+----------------------+-----+-----+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li><p>왼쪽 오른쪽 값의 결정 : 노드의 가장 왼쪽부터 번호를 매긴다.
<img alt="nested_numbered" src="/assets/images/nested_numbered-f7055329cd4109808c56e003d47bb79d.png"></p></li><li><p>트리에 적용 -&gt; modified preorder tree traversal algorithm.
<img alt="numbered_tree" src="/assets/images/numbered_tree-d7a203efc66639d322223aaa8822a2e5.png"></p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="전체-트리-검색-1"></a>전체 트리 검색<a class="hash-link" href="#전체-트리-검색-1" title="Direct link to heading">#</a></h3><ul><li>노드의 lft 값이 항상 부모의 lft 보다 크고 rgt 보다 작다</li><li>부모와 노드를 연결하는 self 조인을 사용하여 전체 트리를 검색한다.</li><li>트리 깊이에 상관없이 작동한다. </li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT node.name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">FROM nested_category AS node,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        nested_category AS parent</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WHERE node.lft BETWEEN parent.lft AND parent.rgt</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        AND parent.name </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token string">&#x27;ELECTRONICS&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">ORDER BY node.lft</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> name                 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> ELECTRONICS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> TELEVISIONS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> TUBE                 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> LCD                  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PLASMA               </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PORTABLE ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> MP3 PLAYERS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> FLASH                </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> CD PLAYERS           </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> WAY RADIOS         </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="모든-리프-노드-찾기"></a>모든 리프 노드 찾기<a class="hash-link" href="#모든-리프-노드-찾기" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">FROM nested_category</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WHERE rgt </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> lft + </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+--------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> name         </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+--------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> TUBE         </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> LCD          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PLASMA       </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> FLASH        </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> CD PLAYERS   </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> WAY RADIOS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+--------------+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="단일-경로-검색-1"></a>단일 경로 검색<a class="hash-link" href="#단일-경로-검색-1" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT parent.name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">FROM nested_category AS node,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        nested_category AS parent</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WHERE node.lft BETWEEN parent.lft AND parent.rgt</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        AND node.name </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token string">&#x27;FLASH&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">ORDER BY parent.lft</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> name                 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> ELECTRONICS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PORTABLE ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> MP3 PLAYERS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> FLASH                </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="노드의-깊이-찾기"></a>노드의 깊이 찾기<a class="hash-link" href="#노드의-깊이-찾기" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT node.name, </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">COUNT</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">parent.name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> - </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> AS depth</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">FROM nested_category AS node,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        nested_category AS parent</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WHERE node.lft BETWEEN parent.lft AND parent.rgt</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">GROUP BY node.name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">ORDER BY node.lft</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+-------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> name                 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> depth </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+-------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> ELECTRONICS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> TELEVISIONS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> TUBE                 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> LCD                  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PLASMA               </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PORTABLE ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> MP3 PLAYERS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> FLASH                </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">3</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> CD PLAYERS           </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> WAY RADIOS         </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+-------+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li>concat, repeat 함수로 카테고리 이름을 들여쓰기 할 수 있다. </li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT CONCAT</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain"> REPEAT</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&#x27; &#x27;</span><span class="token plain">, COUNT</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">parent.name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> - </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">, node.name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> AS name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">FROM nested_category AS node,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        nested_category AS parent</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WHERE node.lft BETWEEN parent.lft AND parent.rgt</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">GROUP BY node.name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">ORDER BY node.lft</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+-----------------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> name                  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+-----------------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> ELECTRONICS           </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  TELEVISIONS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   TUBE                </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   LCD                 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   PLASMA              </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  PORTABLE ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   MP3 PLAYERS         </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">    FLASH              </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   CD PLAYERS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   </span><span class="token number">2</span><span class="token plain"> WAY RADIOS        </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+-----------------------+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="서브-트리의-깊이"></a>서브 트리의 깊이<a class="hash-link" href="#서브-트리의-깊이" title="Direct link to heading">#</a></h3><ul><li>하위 쿼리와 함께 세 번째 self 조인을 추가하여 하위 트리 새로운 시작점이 될 깊이를 결정한다.</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">ELECT node.name, </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">COUNT</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">parent.name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> - </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">sub_tree.depth + </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(36, 41, 46)">))</span><span class="token plain"> AS depth</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">FROM nested_category AS node,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        nested_category AS parent,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        nested_category AS sub_parent,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                SELECT node.name, </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">COUNT</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">parent.name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> - </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> AS depth</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                FROM nested_category AS node,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                nested_category AS parent</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                WHERE node.lft BETWEEN parent.lft AND parent.rgt</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                AND node.name </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token string">&#x27;PORTABLE ELECTRONICS&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                GROUP BY node.name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                ORDER BY node.lft</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">AS sub_tree</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WHERE node.lft BETWEEN parent.lft AND parent.rgt</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        AND node.lft BETWEEN sub_parent.lft AND sub_parent.rgt</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        AND sub_parent.name </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> sub_tree.name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">GROUP BY node.name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">ORDER BY node.lft</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+-------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> name                 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> depth </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+-------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PORTABLE ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> MP3 PLAYERS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> FLASH                </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> CD PLAYERS           </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> WAY RADIOS         </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+-------+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="노드의-즉각적인-하위-항목-찾기"></a>노드의 즉각적인 하위 항목 찾기<a class="hash-link" href="#노드의-즉각적인-하위-항목-찾기" title="Direct link to heading">#</a></h3><ul><li>상위 노드를 표시하지 않으려면 having depth = 1 로 변경</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT node.name, </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">COUNT</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">parent.name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> - </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">sub_tree.depth + </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(36, 41, 46)">))</span><span class="token plain"> AS depth</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">FROM nested_category AS node,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        nested_category AS parent,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        nested_category AS sub_parent,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                SELECT node.name, </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">COUNT</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">parent.name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> - </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> AS depth</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                FROM nested_category AS node,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                        nested_category AS parent</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                WHERE node.lft BETWEEN parent.lft AND parent.rgt</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                        AND node.name </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token string">&#x27;PORTABLE ELECTRONICS&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                GROUP BY node.name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                ORDER BY node.lft</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">AS sub_tree</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WHERE node.lft BETWEEN parent.lft AND parent.rgt</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        AND node.lft BETWEEN sub_parent.lft AND sub_parent.rgt</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        AND sub_parent.name </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> sub_tree.name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">GROUP BY node.name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">HAVING depth </span><span class="token operator" style="color:rgb(0, 92, 197)">&lt;</span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">ORDER BY node.lft</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+-------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> name                 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> depth </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+-------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PORTABLE ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> MP3 PLAYERS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> CD PLAYERS           </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> WAY RADIOS         </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">     </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+-------+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li>중첩 집합의 집계 함수</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">CREATE TABLE product</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        product_id INT AUTO_INCREMENT PRIMARY KEY,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        name VARCHAR</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token number">40</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        category_id INT NOT NULL</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">INSERT INTO product</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">name, category_id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> VALUES</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&#x27;20&quot; TV&#x27;</span><span class="token plain">,3</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&#x27;36&quot; TV&#x27;</span><span class="token plain">,3</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&#x27;Super-LCD 42&quot;&#x27;</span><span class="token plain">,4</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&#x27;Ultra-Plasma 62&quot;&#x27;</span><span class="token plain">,5</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&#x27;Value Plasma 38&quot;&#x27;</span><span class="token plain">,5</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&#x27;Power-MP3 5gb&#x27;</span><span class="token plain">,7</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&#x27;Super-Player 1gb&#x27;</span><span class="token plain">,8</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&#x27;Porta CD&#x27;</span><span class="token plain">,9</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&#x27;CD To go!&#x27;</span><span class="token plain">,9</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&#x27;Family Talk 360&#x27;</span><span class="token plain">,10</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT * FROM product</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+------------+-------------------+-------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> product_id </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> name              </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> category_id </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+------------+-------------------+-------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">          </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">20</span><span class="token string">&quot; TV            |           3 |</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token string">|          2 | 36&quot;</span><span class="token plain"> TV            </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">3</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">          </span><span class="token number">3</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> Super-LCD </span><span class="token number">42</span><span class="token string">&quot;     |           4 |</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token string">|          4 | Ultra-Plasma 62&quot;</span><span class="token plain">  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">          </span><span class="token number">5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> Value Plasma </span><span class="token number">38</span><span class="token plain">&quot;  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">          </span><span class="token number">6</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> Power-MP3 128mb   </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">7</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">          </span><span class="token number">7</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> Super-Shuffle 1gb </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">8</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">          </span><span class="token number">8</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> Porta CD          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">9</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">          </span><span class="token number">9</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> CD To go</span><span class="token operator" style="color:rgb(0, 92, 197)">!</span><span class="token plain">         </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">           </span><span class="token number">9</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">         </span><span class="token number">10</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> Family Talk </span><span class="token number">360</span><span class="token plain">   </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">          </span><span class="token number">10</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+------------+-------------------+-------------+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li>카테고리 트리와 각 카테고리의 제품 수를 검색</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT parent.name, COUNT</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">product.name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">FROM nested_category AS node ,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        nested_category AS parent,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        product</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WHERE node.lft BETWEEN parent.lft AND parent.rgt</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        AND node.category_id </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> product.category_id</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">GROUP BY parent.name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">ORDER BY node.lft</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+---------------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> name                 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> COUNT</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">product.name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+---------------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> ELECTRONICS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">                  </span><span class="token number">10</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> TELEVISIONS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">                   </span><span class="token number">5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> TUBE                 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">                   </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> LCD                  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">                   </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PLASMA               </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">                   </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> PORTABLE ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">                   </span><span class="token number">5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> MP3 PLAYERS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">                   </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> FLASH                </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">                   </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> CD PLAYERS           </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">                   </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> WAY RADIOS         </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">                   </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+----------------------+---------------------+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="새-노드-추가"></a>새 노드 추가<a class="hash-link" href="#새-노드-추가" title="Direct link to heading">#</a></h3><ul><li>TELEVISIONS와 PORTABLE ELECTRONICS 노드 사이에 새 노드를 추가</li><li>새 노드의 lft rgt 는 10, 11 이고 오른쪽의 모든 노드의 lft, rgt 값이 2씩 증가한다. </li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">LOCK TABLE nested_category WRITE</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT @myRight :</span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> rgt FROM nested_category</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WHERE name </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token string">&#x27;TELEVISIONS&#x27;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">UPDATE nested_category SET rgt </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> rgt + </span><span class="token number">2</span><span class="token plain"> WHERE rgt </span><span class="token operator" style="color:rgb(0, 92, 197)">&gt;</span><span class="token plain"> @myRight</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">UPDATE nested_category SET lft </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> lft + </span><span class="token number">2</span><span class="token plain"> WHERE lft </span><span class="token operator" style="color:rgb(0, 92, 197)">&gt;</span><span class="token plain"> @myRight</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">INSERT INTO nested_category</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">name, lft, rgt</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> VALUES</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&#x27;GAME CONSOLES&#x27;</span><span class="token plain">, @myRight + </span><span class="token number">1</span><span class="token plain">, @myRight + </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">UNLOCK TABLES</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT CONCAT</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain"> REPEAT</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain"> </span><span class="token string">&#x27; &#x27;</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">COUNT</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">parent.name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> - </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain">, node.name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> AS name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">FROM nested_category AS node,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        nested_category AS parent</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WHERE node.lft BETWEEN parent.lft AND parent.rgt</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">GROUP BY node.name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">ORDER BY node.lft</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+-----------------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> name                  </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+-----------------------+</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"> ELECTRONICS           </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  TELEVISIONS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   TUBE                </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   LCD                 </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   PLASMA              </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  GAME CONSOLES        </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">  PORTABLE ELECTRONICS </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   MP3 PLAYERS         </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">    FLASH              </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   CD PLAYERS          </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain">   </span><span class="token number">2</span><span class="token plain"> WAY RADIOS        </span><span class="token operator" style="color:rgb(0, 92, 197)">|</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">+-----------------------+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li>기존 자식이 없는 노드의 자식으로 노드를 추가하는 절차</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">LOCK TABLE nested_category WRITE</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT @myLeft :</span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> lft FROM nested_category</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WHERE name </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token string">&#x27;2 WAY RADIOS&#x27;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">UPDATE nested_category SET rgt </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> rgt + </span><span class="token number">2</span><span class="token plain"> WHERE rgt </span><span class="token operator" style="color:rgb(0, 92, 197)">&gt;</span><span class="token plain"> @myLeft</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">UPDATE nested_category SET lft </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> lft + </span><span class="token number">2</span><span class="token plain"> WHERE lft </span><span class="token operator" style="color:rgb(0, 92, 197)">&gt;</span><span class="token plain"> @myLeft</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">INSERT INTO nested_category</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">name, lft, rgt</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> VALUES</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&#x27;FRS&#x27;</span><span class="token plain">, @myLeft + </span><span class="token number">1</span><span class="token plain">, @myLeft + </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">UNLOCK TABLES</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li>부모 노드는 삭제하지만 자식은 삭제하지 않는것. 하위 노드는 모두 삭제된 상위 레벨로 이동</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">LOCK TABLE nested_category WRITE</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">SELECT @myLeft :</span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> lft, @myRight :</span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> rgt, @myWidth :</span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> rgt - lft + </span><span class="token number">1</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">FROM nested_category</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">WHERE name </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token string">&#x27;PORTABLE ELECTRONICS&#x27;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">DELETE FROM nested_category WHERE lft </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> @myLeft</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">UPDATE nested_category SET rgt </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> rgt - </span><span class="token number">1</span><span class="token plain">, lft </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> lft - </span><span class="token number">1</span><span class="token plain"> WHERE lft BETWEEN @myLeft AND @myRight</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">UPDATE nested_category SET rgt </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> rgt - </span><span class="token number">2</span><span class="token plain"> WHERE rgt </span><span class="token operator" style="color:rgb(0, 92, 197)">&gt;</span><span class="token plain"> @myRight</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">UPDATE nested_category SET lft </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> lft - </span><span class="token number">2</span><span class="token plain"> WHERE lft </span><span class="token operator" style="color:rgb(0, 92, 197)">&gt;</span><span class="token plain"> @myRight</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">UNLOCK TABLES</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/sql/index"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« index</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/sql/SQL_Cheat_Sheet"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SQL_Cheat_Sheet »</div></a></div></nav></div></div><div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#adjacency-list-model-인접-목록-모델" class="table-of-contents__link">ADJACENCY LIST MODEL 인접 목록 모델</a><ul><li><a href="#전체-트리-검색" class="table-of-contents__link">전체 트리 검색</a></li><li><a href="#모든-리프-노트-찾기" class="table-of-contents__link">모든 리프 노트 찾기</a></li><li><a href="#단일-경로-검색" class="table-of-contents__link">단일 경로 검색</a></li><li><a href="#인접성-목록-모델의-한계" class="table-of-contents__link">인접성 목록 모델의 한계</a></li></ul></li><li><a href="#nested-set-model-중첩-세트-모델" class="table-of-contents__link">Nested Set Model 중첩 세트 모델</a><ul><li><a href="#전체-트리-검색-1" class="table-of-contents__link">전체 트리 검색</a></li><li><a href="#모든-리프-노드-찾기" class="table-of-contents__link">모든 리프 노드 찾기</a></li><li><a href="#단일-경로-검색-1" class="table-of-contents__link">단일 경로 검색</a></li><li><a href="#노드의-깊이-찾기" class="table-of-contents__link">노드의 깊이 찾기</a></li><li><a href="#서브-트리의-깊이" class="table-of-contents__link">서브 트리의 깊이</a></li><li><a href="#노드의-즉각적인-하위-항목-찾기" class="table-of-contents__link">노드의 즉각적인 하위 항목 찾기</a></li><li><a href="#새-노드-추가" class="table-of-contents__link">새 노드 추가</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Learn</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/doc2">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Legal</h4><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_31Aa"><img class="footer__logo" alt="Facebook Open Source Logo" src="/img/oss_logo.png"></a></div><div class="footer__copyright">Copyright © 2021 Facebook, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.04929a90.js"></script>
<script src="/runtime~main.b88db289.js"></script>
<script src="/main.d9796370.js"></script>
<script src="/1.339dbb70.js"></script>
<script src="/3.b0ed920a.js"></script>
<script src="/1be78505.7f89a872.js"></script>
<script src="/345.76b2e3cb.js"></script>
<script src="/935f2afb.0bba548e.js"></script>
<script src="/342.9d9ac2d7.js"></script>
<script src="/17896441.2f8597a2.js"></script>
<script src="/b0328a18.f5b0d317.js"></script>
</body>
</html>