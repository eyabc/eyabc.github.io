(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{471:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var r=n(0),a=n.n(r);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=a.a.createContext({}),d=function(e){var t=a.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=d(e.components);return a.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},m=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=d(n),m=r,b=p["".concat(i,".").concat(m)]||p[m]||u[m]||l;return n?a.a.createElement(b,o(o({ref:t},s),{},{components:n})):a.a.createElement(b,o({ref:t},s))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=m;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var s=2;s<l;s++)i[s]=n[s];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},80:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return o})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return d}));var r=n(3),a=n(7),l=(n(0),n(471)),i={},o={unversionedId:"nest-js/overview/middleware",id:"nest-js/overview/middleware",isDocsHomePage:!1,title:"middleware",description:"https://docs.nestjs.com/middleware",source:"@site/docs/nest-js/overview/middleware.mdx",slug:"/nest-js/overview/middleware",permalink:"/docs/nest-js/overview/middleware",version:"current",lastUpdatedAt:1645453415,sidebar:"nestJs",previous:{title:"modules",permalink:"/docs/nest-js/overview/modules"},next:{title:"exception-filters",permalink:"/docs/nest-js/overview/exception-filters"}},c=[{value:"Custom Nest Middleware",id:"custom-nest-middleware",children:[]},{value:"Dependency Injection",id:"dependency-injection",children:[]},{value:"\ubbf8\ub4e4\uc6e8\uc5b4 \uc801\uc6a9\ud558\uae30",id:"\ubbf8\ub4e4\uc6e8\uc5b4-\uc801\uc6a9\ud558\uae30",children:[]},{value:"\ub77c\uc6b0\ud2b8 \uc640\uc77c\ub4dc\uce74\ub4dc",id:"\ub77c\uc6b0\ud2b8-\uc640\uc77c\ub4dc\uce74\ub4dc",children:[]},{value:"MiddlewareConsumer",id:"middlewareconsumer",children:[{value:"forRoutes() \uc758 \uc778\uc790",id:"forroutes-\uc758-\uc778\uc790",children:[]},{value:"apply()",id:"apply",children:[]},{value:"\ub77c\uc6b0\ud2b8 \uc81c\uc678\ud558\uae30",id:"\ub77c\uc6b0\ud2b8-\uc81c\uc678\ud558\uae30",children:[]}]},{value:"Functional Middleware",id:"functional-middleware",children:[]},{value:"Multiple Middleware",id:"multiple-middleware",children:[]},{value:"Global Middleware \uc804\uc5ed \ubbf8\ub4e4\uc6e8\uc5b4",id:"global-middleware-\uc804\uc5ed-\ubbf8\ub4e4\uc6e8\uc5b4",children:[]}],s={toc:c};function d(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(l.b)("wrapper",Object(r.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("p",null,Object(l.b)("a",{parentName:"p",href:"https://docs.nestjs.com/middleware"},"https://docs.nestjs.com/middleware")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"route handler \uc804\uc5d0 \ud638\ucd9c\ub418\ub294 \ud568\uc218\n",Object(l.b)("img",{parentName:"p",src:"https://docs.nestjs.com/assets/Middlewares_1.png",alt:null}))),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"request, response \uac1d\uccb4\uc5d0 \uc811\uadfc \uac00\ub2a5")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"middleware \uc758 ",Object(l.b)("inlineCode",{parentName:"p"},"next()")," \ud568\uc218"),Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"\uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uc758 response-request \uc0ac\uc774\ud074 \ub0b4\uc5d0 \uc788\ub2e4."))),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"Nest \uc758 default middleware \ub294 ",Object(l.b)("ins",null,"express middleware")," \uc640 \uac19\ub2e4.")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"express middleware \uc758 \uae30\ub2a5"),Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"\uc5b4\ub5a4 \ucf54\ub4dc\ub4e0 \uc2e4\ud589 \uac00\ub2a5\ud558\ub2e4."),Object(l.b)("li",{parentName:"ul"},"request/response \uac1d\uccb4\ub97c \ubc14\uafc0 \uc218 \uc788\ub2e4."),Object(l.b)("li",{parentName:"ul"},"request-response \uc0ac\uc774\ud074\uc744 \uc885\ub8cc\ud55c\ub2e4."),Object(l.b)("li",{parentName:"ul"},"stack \uc758 \ub2e4\uc74c middleware \ud568\uc218\ub97c \ud638\ucd9c\ud55c\ub2e4."),Object(l.b)("li",{parentName:"ul"},"\ub9cc\uc57d \ud604\uc7ac Middleware \ud568\uc218\uac00 request-response \uc0ac\uc774\ud074\uc744 \uc885\ub8cc\ud558\uc9c0 \ubabb\ud55c\ub2e4\uba74,\n",Object(l.b)("inlineCode",{parentName:"li"},"next()")," \ub97c \ud638\ucd9c\ud558\uc5ec \ub2e4\uc74c middleware \ud568\uc218\uc5d0\uac8c \uc81c\uc5b4\ub97c \ub118\uae34\ub2e4.\n\uadf8\ub807\uc9c0 \uc54a\uc73c\uba74, \uc694\uccad\uc774 \uc911\ub2e8\ub41c\ub2e4.")))),Object(l.b)("h2",{id:"custom-nest-middleware"},"Custom Nest Middleware"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"\ud568\uc218\ub098 \ud074\ub798\uc2a4 \ub0b4\uc5d0\uc11c ",Object(l.b)("inlineCode",{parentName:"p"},"@Injectable()")," \uc73c\ub85c \ucee4\uc2a4\ud140 Nest \ubbf8\ub4e4\uc6e8\uc5b4\ub97c \uad6c\ud604 \uac00\ub2a5")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"\ud074\ub798\uc2a4: ",Object(l.b)("inlineCode",{parentName:"p"},"NestMiddleware")," \ub97c \uad6c\ud604\ud574\uc57c\ud55c\ub2e4."),Object(l.b)("pre",{parentName:"li"},Object(l.b)("code",{parentName:"pre",className:"language-typescript",metastring:'title="logger.middleware.ts" {5}',title:'"logger.middleware.ts"',"{5}":!0},"import { Injectable, NestMiddleware } from '@nestjs/common';\nimport { Request, Response, NextFunction } from 'express';\n\n@Injectable()\nexport class LoggerMiddleware implements NestMiddleware {\n  use(req: Request, res: Response, next: NextFunction) {\n    console.log('Request...');\n    next();\n  }\n}\n"))),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"\ud568\uc218 : \ubcc4\ub3c4\uc758 \uc561\uc158\uc774 \ud544\uc694\ud558\uc9c0 \uc54a\ub2e4."))),Object(l.b)("h2",{id:"dependency-injection"},"Dependency Injection"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"\ubbf8\ub4e4\uc6e8\uc5b4\uc758 \uc758\uc874\uc131 \uc8fc\uc785\uc740 fully supported \ud558\ub2e4."),Object(l.b)("li",{parentName:"ul"},"\ubaa8\ub4c8\uacfc \uac19\uc774 \uc758\uc874\uc131 \uc8fc\uc785\uc774 \uac00\ub2a5\ud558\ub2e4."),Object(l.b)("li",{parentName:"ul"},"\ubcf4\ud1b5 \uc0dd\uc131\uc790 \uc8fc\uc785 \ubc29\uc2dd\uc744 \ud0dd\ud55c\ub2e4.")),Object(l.b)("h2",{id:"\ubbf8\ub4e4\uc6e8\uc5b4-\uc801\uc6a9\ud558\uae30"},"\ubbf8\ub4e4\uc6e8\uc5b4 \uc801\uc6a9\ud558\uae30"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-typescript",metastring:'title="app.module.ts" {8,9,11}',title:'"app.module.ts"',"{8,9,11}":!0},"import { Module, NestModule, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes('cats');\n  }\n}\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"\ubaa8\ub4c8\ud074\ub798\uc2a4\ub294 ",Object(l.b)("inlineCode",{parentName:"li"},"NestModule")," \ub97c \uad6c\ud604\ud574\uc57c \ud55c\ub2e4."),Object(l.b)("li",{parentName:"ul"},"\ubaa8\ub4c8 \ud074\ub798\uc2a4 \ub0b4\uc5d0, ",Object(l.b)("inlineCode",{parentName:"li"},"configure()")," \uba54\uc11c\ub4dc\ub97c \uc124\uc815\ud55c\ub2e4.")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-typescript",metastring:'title="cats \ucee8\ud2b8\ub864\ub7ec\uc5d0 LoggerMiddleware \ub97c \uc801\uc6a9"',title:'"cats',"\ucee8\ud2b8\ub864\ub7ec\uc5d0":!0,LoggerMiddleware:!0,"\ub97c":!0,'\uc801\uc6a9"':!0},"consumer\n  .apply(LoggerMiddleware)\n  .forRoutes('cats');\n")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-typescript",metastring:'title="/cats \uacbd\ub85c\uc758 GET \uba54\uc11c\ub4dc\uc5d0 \ud55c\ud574 LoggerMiddleware \ub97c \uc801\uc6a9"',title:'"/cats',"\uacbd\ub85c\uc758":!0,GET:!0,"\uba54\uc11c\ub4dc\uc5d0":!0,"\ud55c\ud574":!0,LoggerMiddleware:!0,"\ub97c":!0,'\uc801\uc6a9"':!0},"consumer\n  .apply(LoggerMiddleware)\n  .forRoutes({ path: 'cats', method: RequestMethod.GET });\n")),Object(l.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"configure \uba54\uc11c\ub4dc\ub97c async \uba54\uc11c\ub4dc\ub85c \uc0ac\uc6a9\uac00\ub2a5\ud558\ub2e4."))),Object(l.b)("h2",{id:"\ub77c\uc6b0\ud2b8-\uc640\uc77c\ub4dc\uce74\ub4dc"},"\ub77c\uc6b0\ud2b8 \uc640\uc77c\ub4dc\uce74\ub4dc"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"forRoutes({ path: 'ab*cd', method: RequestMethod.ALL });")),Object(l.b)("p",null,"\uc815\uaddc\uc2dd \ud328\ud134\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4."),Object(l.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"fastify \ub77c\uc774\ube0c\ub7ec\ub9ac\ub098, \ubc84\uc804\uc5d0 \ub530\ub77c \uc815\uaddc\uc2dd\uc774 \ub2e4\ub974\uac8c \ud574\uc11d\ub420 \uc218 \uc788\ub2e4."))),Object(l.b)("h2",{id:"middlewareconsumer"},"MiddlewareConsumer"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"\ud5ec\ud37c \ud074\ub798\uc2a4 \uc774\ub2e4."),Object(l.b)("li",{parentName:"ul"},"\ubbf8\ub4e4\uc6e8\uc5b4 \uad00\ub9ac\ub97c \uc704\ud55c \uc5ec\ub7ec \uba54\uc11c\ub4dc\ub97c \uc81c\uacf5\ud55c\ub2e4."),Object(l.b)("li",{parentName:"ul"},"\uba54\uc11c\ub4dc\ub294 \uccb4\uc774\ub2dd\uc73c\ub85c \uc0ac\uc6a9\uac00\ub2a5\ud568.")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-typescript",metastring:'title="app.module.ts" {9,10}',title:'"app.module.ts"',"{9,10}":!0},"import { Module, NestModule, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes('cats');\n  }\n}\n")),Object(l.b)("h3",{id:"forroutes-\uc758-\uc778\uc790"},"forRoutes() \uc758 \uc778\uc790"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-typescript",metastring:'title="MiddlewareConfigProxy forRoute"',title:'"MiddlewareConfigProxy','forRoute"':!0},"export interface MiddlewareConfigProxy {\n    exclude(...routes: (string | RouteInfo)[]): MiddlewareConfigProxy;\n    /**\n     * Attaches passed either routes or controllers to the currently configured middleware.\n     * If you pass a class, Nest would attach middleware to every path defined within this controller.\n     *\n     * @param {(string | Type | RouteInfo)[]} routes\n     * @returns {MiddlewareConsumer}\n     */\n    forRoutes(...routes: (string | Type<any> | RouteInfo)[]): MiddlewareConsumer;\n}\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"\ub2e8\uc77c \ud639\uc740 Comma \ub85c \uad6c\ubd84\ub41c \ubcf5\uc218 \ubb38\uc790\uc5f4"),Object(l.b)("li",{parentName:"ul"},"RouteInfo \uac1d\uccb4",Object(l.b)("pre",{parentName:"li"},Object(l.b)("code",{parentName:"pre",className:"language-typescript",metastring:'title="RouteInfo"',title:'"RouteInfo"'},"export interface RouteInfo {\n  path: string;\n  method: RequestMethod;\n}\n"))),Object(l.b)("li",{parentName:"ul"},"\ub2e8\uc77c \ud639\uc740  Comma \ub85c \uad6c\ubd84\ub41c \ubcf5\uc218 \ucee8\ud2b8\ub864\ub7ec \ud074\ub798\uc2a4")),Object(l.b)("h3",{id:"apply"},"apply()"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-typescript",metastring:'title="MiddlewareConsumer apply"',title:'"MiddlewareConsumer','apply"':!0},"export interface MiddlewareConsumer {\n    /**\n     * @param {...(Type | Function)} middleware middleware class/function or array of classes/functions\n     * to be attached to the passed routes.\n     *\n     * @returns {MiddlewareConfigProxy}\n     */\n    apply(...middleware: (Type<any> | Function)[]): MiddlewareConfigProxy;\n}\n")),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"apply()")," \uba54\uc11c\ub4dc\ub294 \uc778\uc790\ub85c \ub2e8\uc77c \ud639\uc740 \ubcf5\uc218 \ubbf8\ub4e4\uc6e8\uc5b4\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4."),Object(l.b)("h3",{id:"\ub77c\uc6b0\ud2b8-\uc81c\uc678\ud558\uae30"},"\ub77c\uc6b0\ud2b8 \uc81c\uc678\ud558\uae30"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-typescript",metastring:'title="MiddlewareConfigProxy exclude" {8}',title:'"MiddlewareConfigProxy','exclude"':!0,"{8}":!0},"export interface MiddlewareConfigProxy {\n    /**\n     * Excludes routes from the currently processed middleware.\n     *\n     * @param {(string | RouteInfo)[]} routes\n     * @returns {MiddlewareConfigProxy}\n     */\n    exclude(...routes: (string | RouteInfo)[]): MiddlewareConfigProxy;\n\n    forRoutes(...routes: (string | Type<any> | RouteInfo)[]): MiddlewareConsumer;\n}\n")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-typescript",metastring:"{3,4,5,6}","{3,4,5,6}":!0},"consumer\n  .apply(LoggerMiddleware)\n  .exclude(\n    { path: 'cats', method: RequestMethod.GET },\n    { path: 'cats', method: RequestMethod.POST },\n    'cats/(.*)',\n  )\n  .forRoutes(CatsController);\n")),Object(l.b)("h2",{id:"functional-middleware"},"Functional Middleware"),Object(l.b)("p",null,"LoggerMiddleware : \uba64\ubc84\ubcc0\uc218 / \ucd94\uac00\uc801\uc778 \uba54\uc11c\ub4dc / \uc758\uc874\uc131 \uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc740 \ud074\ub798\uc2a4 \ubbf8\ub4e4\uc6e8\uc5b4"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Functional Middleware \uc0ac\uc6a9\uac00\ub2a5")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-typescript",metastring:'title="logger.middleware.ts"',title:'"logger.middleware.ts"'},"import { Request, Response, NextFunction } from 'express';\n\nexport function logger(req: Request, res: Response, next: NextFunction) {\n  console.log(`Request...`);\n  next();\n};\n")),Object(l.b)("h2",{id:"multiple-middleware"},"Multiple Middleware"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"consumer.apply(cors(), helmet(), logger).forRoutes(CatsController);")),Object(l.b)("h2",{id:"global-middleware-\uc804\uc5ed-\ubbf8\ub4e4\uc6e8\uc5b4"},"Global Middleware \uc804\uc5ed \ubbf8\ub4e4\uc6e8\uc5b4"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-typescript",metastring:'title="main.ts" {2}',title:'"main.ts"',"{2}":!0},"const app = await NestFactory.create(AppModule);\napp.use(logger);\nawait app.listen(3000);\n")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-typescript",metastring:'title="INestApplication use" {8}',title:'"INestApplication','use"':!0,"{8}":!0},"export interface INestApplication extends INestApplicationContext {\n    /**\n     * A wrapper function around HTTP adapter method: `adapter.use()`.\n     * Example `app.use(cors())`\n     *\n     * @returns {this}\n     */\n    use(...args: any[]): this;\n}\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"app.use()")," \ub294 Functional Middleware \ub9cc \uc0ac\uc6a9\uac00\ub2a5"),Object(l.b)("li",{parentName:"ul"},"\uc804\uc5ed \ubbf8\ub4e4\uc6e8\uc5b4\ub294 DI \ucee8\ud14c\uc774\ub108\uc5d0 \uc561\uc138\uc2a4 \ud560 \uc218 \uc5c6\ub2e4.")))}d.isMDXComponent=!0}}]);